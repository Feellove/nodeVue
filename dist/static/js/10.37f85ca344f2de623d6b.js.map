{"version":3,"sources":["webpack:///src/components/pages/orderList.vue","webpack:///./src/components/pages/orderList.vue?82d4","webpack:///./src/components/pages/orderList.vue"],"names":["orderList","data","imageURL","tabList","active","tabNum","status","created","value","this","$route","query","index","initList","methods","toBack","$router","go","_this","axios_default","url","serviceAPI_config_default","a","checkOrder","method","then","response","code","message","console","log","Toast","catch","error","chooseList","val","toPlay","totalPrice","id","push","name","params","confirmReceipt","updateOrder","buyAgain","ID","NAME","PRICE","IMAGE","_this2","insertAllCart","NUM","dialog_default","confirm","title","confirmButtonText","cancelButtonText","pages_orderList","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","left-text","left-arrow","fixed","on","click-left","_v","swipe-threshold","sticky","click","model","callback","$$v","expression","_l","tab","key","staticStyle","padding-top","list","STATUS","desc","price","thumb","slot","size","type","$event","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/10.37f85ca344f2de623d6b.js","sourcesContent":["<template>\n  <div id=\"orderList\">\n    <div class=\"navBar\">\n      <van-nav-bar title=\"我的订单\" left-text=\"返回\" left-arrow fixed @click-left=\"toBack\"></van-nav-bar>\n    </div>\n    <div class=\"tabList\">\n      <van-tabs v-model=\"active\" :swipe-threshold=\"tabNum\" sticky @click=\"chooseList\">\n        <van-tab v-for=\"tab in tabList\" :title=\"tab\" :key=\"tab\">\n          <div class=\"orderList\" style=\"padding-top:1.9rem\">\n            <van-panel :title=\"list.NAME\" :status=\"list.STATUS\" v-for=\"(list,index) in orderList\" :key=\"index\">\n              <div>\n                <van-card :title=\"list.NAME\" :desc=\"list.ID\" :price=\"list.PRICE\" :thumb=\"list.IMAGE\"/>\n              </div>\n              <div slot=\"footer\">\n                <van-button size=\"small\" type=\"danger\" v-if=\"list.STATUS=='待付款'\" @click=\"toPlay(list.PRICE,list.ID)\">去支付</van-button>\n                <van-button size=\"small\" type=\"danger\" v-if=\"list.STATUS=='待收货'\" @click=\"confirmReceipt(list.ID,'已完成')\">确认收货</van-button>\n                <van-button size=\"small\" type=\"danger\" v-if=\"list.STATUS=='已完成'\" @click=\"buyAgain(list.ID,list.NAME,list.PRICE,list.IMAGE)\">再次购买</van-button>\n                <van-button size=\"small\" type=\"danger\" v-if=\"list.STATUS=='已取消'\">评价</van-button>\n              </div>\n            </van-panel>\n          </div>\n        </van-tab>\n      </van-tabs>\n    </div>\n\n  </div>\n</template>\n<script>\n  import axios from 'axios'\n  import url from '@/serviceAPI.config.js'\n  import {Dialog} from 'vant'\n  export default {\n    data(){\n      return {\n        orderList : [],\n        imageURL : '',\n        tabList : ['全部', '待付款', '待收货', '已完成', '已取消'],\n        active : 0,\n        tabNum : 5,\n        status : '',\n      }\n    },\n    created(){\n      let value = this.$route.query.value ? this.$route.query.value : '全部';\n      this.active = this.$route.query.index ? this.$route.query.index : 0;\n      this.initList(value);\n\n    },\n    methods : {\n      toBack(){\n        this.$router.go(-1)\n      },\n      initList(status){\n        axios({\n          url : url.checkOrder,\n          method : 'post',\n          data : {status : status}\n        }).then(response =>{\n          if(response.data.code == 200 && response.data.message){\n            this.orderList = response.data.message\n            console.log(this.orderList);\n          } else {\n            Toast('服务器错误，数据取得失败')\n          }\n        }).catch(error =>{\n          console.log(error)\n        })\n      },\n      chooseList(index, val){\n        this.initList(val)\n      },\n      //去支付\n      toPlay(totalPrice,id){\n        this.$router.push({name:'payment',params:{totalPrice:totalPrice*100,id:id}})\n      },\n      //确认收货\n      confirmReceipt(id,status){\n        axios({\n          url : url.updateOrder,\n          method : 'post',\n          data : {id : id,status:status}\n        }).then(response =>{\n          if(response.data.code == 200 && response.data.message){\n          } else {\n            Toast('服务器错误，数据取得失败')\n          }\n        }).catch(error =>{\n          console.log(error)\n        })\n      },\n      //再次购买\n      buyAgain(ID,NAME,PRICE,IMAGE){\n        axios({\n          url : url.insertAllCart,\n          method : 'post',\n          data : {\n            ID : ID,\n            NAME : NAME,\n            PRICE : PRICE,\n            IMAGE : IMAGE,\n            NUM : 1\n          }\n        }).then(response =>{\n\n          if(response.data.code == 200 && response.data.message){\n\n            Toast('加入成功');\n          } else {\n            Toast('服务器错误，数据取得失败')\n          }\n        })\n          .catch(error =>{\n            Dialog.confirm({\n              title: '商品已加入购物车',\n              //              message: '',\n              confirmButtonText:'前往购物车',\n              cancelButtonText:'关闭'\n            }).then(() => {\n              // on confirm\n              this.$router.push({name:'ShoppingCart'})\n            }).catch(() => {\n              // on cancel\n            });\n            console.log(error)\n          })\n\n      }\n    }\n  }\n</script>\n<style>\n  #orderList .van-panel__footer{\n    text-align:right;\n  }\n  #orderList .van-tabs__wrap{\n    top:1.9rem;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/pages/orderList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"orderList\"}},[_c('div',{staticClass:\"navBar\"},[_c('van-nav-bar',{attrs:{\"title\":\"我的订单\",\"left-text\":\"返回\",\"left-arrow\":\"\",\"fixed\":\"\"},on:{\"click-left\":_vm.toBack}})],1),_vm._v(\" \"),_c('div',{staticClass:\"tabList\"},[_c('van-tabs',{attrs:{\"swipe-threshold\":_vm.tabNum,\"sticky\":\"\"},on:{\"click\":_vm.chooseList},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.tabList),function(tab){return _c('van-tab',{key:tab,attrs:{\"title\":tab}},[_c('div',{staticClass:\"orderList\",staticStyle:{\"padding-top\":\"1.9rem\"}},_vm._l((_vm.orderList),function(list,index){return _c('van-panel',{key:index,attrs:{\"title\":list.NAME,\"status\":list.STATUS}},[_c('div',[_c('van-card',{attrs:{\"title\":list.NAME,\"desc\":list.ID,\"price\":list.PRICE,\"thumb\":list.IMAGE}})],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(list.STATUS=='待付款')?_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.toPlay(list.PRICE,list.ID)}}},[_vm._v(\"去支付\")]):_vm._e(),_vm._v(\" \"),(list.STATUS=='待收货')?_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.confirmReceipt(list.ID,'已完成')}}},[_vm._v(\"确认收货\")]):_vm._e(),_vm._v(\" \"),(list.STATUS=='已完成')?_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.buyAgain(list.ID,list.NAME,list.PRICE,list.IMAGE)}}},[_vm._v(\"再次购买\")]):_vm._e(),_vm._v(\" \"),(list.STATUS=='已取消')?_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"}},[_vm._v(\"评价\")]):_vm._e()],1)])}))])}))],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2b45ee76\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/orderList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2b45ee76\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./orderList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./orderList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./orderList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2b45ee76\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./orderList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/orderList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}