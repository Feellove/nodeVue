webpackJsonp([6],{b5jd:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("mtWM"),s=e.n(n),o=e("1GZU"),a=e.n(o),c={data:function(){return{chosenContactId:null,editingContact:{},showList:!1,showEdit:!1,isEdit:!1,list:[{name:"张三",tel:"13000000000",address:"兰光科技园b713",id:0}],areaList:"",isSubmit:!1,isDisabled:!1,checkedGoods:[],totalPrice:0}},created:function(){this.checkedGoods=this.$route.params.checkedGoods,this.totalPrice=this.$route.params.totalPrice,this.initList()},computed:{cardType:function(){return null!==this.chosenContactId?"edit":"add"},currentContact:function(){var t=this.chosenContactId;return null!==t?this.list.filter(function(i){return i.id===t})[0]:{}}},methods:{initList:function(){},onAdd:function(){this.editingContact={id:this.list.length},this.isEdit=!1,this.showEdit=!0},onEdit:function(t){this.isEdit=!0,this.showEdit=!0,this.editingContact=t},onSelect:function(){this.showList=!1},onSave:function(t){this.showEdit=!1,this.showList=!1,this.isEdit?this.list=this.list.map(function(i){return i.id===t.id?t:i}):this.list.push(t),this.chosenContactId=t.id},onDelete:function(t){this.showEdit=!1,this.list=this.list.filter(function(i){return i.id!==t.id}),this.chosenContactId===t.id&&(this.chosenContactId=null)},onSubmit:function(){var t=this;this.isSubmit=!0,console.log(this.checkedGoods),console.log(this.checkedGoods),s()({url:a.a.deleteCart,method:"post",data:{deleteData:this.checkedGoods}}).then(function(i){200==i.data.code&&i.data.message?t.$router.replace({name:"payment",params:{data:t.checkedGoods,totalPrice:t.totalPrice}}):Toast("服务器错误，数据取得失败")}).catch(function(t){console.log(t)})},onClickLeft:function(){this.$router.go(-1)}}},d={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"order"}},[e("div",{staticClass:"navBar"},[e("van-nav-bar",{attrs:{title:"填写订单","left-text":"返回","left-arrow":"",fixed:""},on:{"click-left":t.onClickLeft}})],1),t._v(" "),e("van-contact-card",{attrs:{type:t.cardType,name:t.currentContact.name,tel:t.currentContact.tel,address:t.currentContact.address},on:{click:function(i){t.showList=!0}}}),t._v(" "),e("van-popup",{attrs:{position:"bottom"},model:{value:t.showList,callback:function(i){t.showList=i},expression:"showList"}},[e("van-address-list",{attrs:{list:t.list},on:{add:t.onAdd,edit:t.onEdit,select:t.onSelect},model:{value:t.chosenContactId,callback:function(i){t.chosenContactId=i},expression:"chosenContactId"}})],1),t._v(" "),e("van-popup",{attrs:{position:"bottom"},model:{value:t.showEdit,callback:function(i){t.showEdit=i},expression:"showEdit"}},[e("van-address-edit",{attrs:{"contact-info":t.editingContact,"area-list":t.areaList,"is-edit":t.isEdit},on:{save:t.onSave,delete:t.onDelete}})],1),t._v(" "),e("div",{staticClass:"goodsContent"},t._l(t.checkedGoods,function(t,i){return e("van-card",{key:i,attrs:{title:t.NAME,num:t.NUM,price:t.PRICE,thumb:t.IMAGE}})})),t._v(" "),e("van-submit-bar",{attrs:{price:t.totalPrice,label:"总计：",buttonText:"提交订单",loading:t.isSubmit,disabled:t.isDisabled},on:{submit:t.onSubmit}})],1)},staticRenderFns:[]};var r=e("VU/8")(c,d,!1,function(t){e("dW8v"),e("raDy")},"data-v-288c890a",null);i.default=r.exports},dW8v:function(t,i){},raDy:function(t,i){}});
//# sourceMappingURL=6.a1bf61b4e11e626f3edd.js.map